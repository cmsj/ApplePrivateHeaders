/*
* This header is generated by classdump-dyld 1.0
* on Wednesday, April 28, 2021 at 2:52:21 PM British Summer Time
* Operating System: Version 11.3 (Build 20E232)
* Image Source: /System/Library/PrivateFrameworks/EmailDaemon.framework/Versions/A/EmailDaemon
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <EmailDaemon/EmailDaemon-Structs.h>
#import <libobjc.A.dylib/EDAccountChangeHookResponder.h>
#import <libobjc.A.dylib/EDThreadQueryHandlerDelegate.h>
#import <libobjc.A.dylib/EFContentProtectionObserver.h>
#import <libobjc.A.dylib/EMMessageRepositoryInterface.h>
#import <libobjc.A.dylib/EDReconciliationQueryProvider.h>
#import <libobjc.A.dylib/EFLoggable.h>

@protocol OS_dispatch_queue, EMUserProfileProvider, EDRemoteSearchProvider, EDResumable, EFScheduler;
@class EDMailboxPredictionController, NSMutableDictionary, NSMutableSet, EDPersistenceHookRegistry, EDMessagePersistence, EDConversationPersistence, EDThreadPersistence, EDMessageChangeManager, NSConditionLock, NSObject, EDMailboxPersistence, EDVIPManager, EDFetchController, NSSet, NSString;

@interface EDMessageRepository : NSObject <EDAccountChangeHookResponder, EDThreadQueryHandlerDelegate, EFContentProtectionObserver, EMMessageRepositoryInterface, EDReconciliationQueryProvider, EFLoggable> {

	EDMailboxPredictionController* _mailboxPredictionController;
	os_unfair_lock_s _mailboxPredictionControllerLock;
	os_unfair_lock_s _handlersLock;
	NSMutableDictionary* _queryHandlers;
	NSMutableDictionary* _threadQueryHandlers;
	NSMutableSet* _handlerTokens;
	EDPersistenceHookRegistry* _hookRegistry;
	EDMessagePersistence* _messagePersistence;
	EDConversationPersistence* _conversationPersistence;
	EDThreadPersistence* _threadPersistence;
	EDMessageChangeManager* _messageChangeManager;
	NSConditionLock* _performQueryOnSerializationQueue;
	NSObject*<OS_dispatch_queue> _serializationQueue;
	NSObject*<OS_dispatch_queue> _contentProtectionQueue;
	EDMailboxPersistence* _mailboxPersistence;
	id<EMUserProfileProvider> _userProfileProvider;
	EDVIPManager* _vipManager;
	id<EDRemoteSearchProvider> _remoteSearchProvider;
	EDFetchController* _fetchController;
	id<EDResumable> _observerResumer;
	id<EFScheduler> _updateThrottlerResetScheduler;
	/*^block*/id _updateThrottlerResetBlock;

}

@property (nonatomic,retain) NSMutableDictionary * queryHandlers;                                //@synthesize queryHandlers=_queryHandlers - In the implementation block
@property (nonatomic,retain) NSMutableDictionary * threadQueryHandlers;                          //@synthesize threadQueryHandlers=_threadQueryHandlers - In the implementation block
@property (nonatomic,retain) NSMutableSet * handlerTokens;                                       //@synthesize handlerTokens=_handlerTokens - In the implementation block
@property (nonatomic,retain) EDPersistenceHookRegistry * hookRegistry;                           //@synthesize hookRegistry=_hookRegistry - In the implementation block
@property (nonatomic,retain) EDMessagePersistence * messagePersistence;                          //@synthesize messagePersistence=_messagePersistence - In the implementation block
@property (nonatomic,readonly) EDConversationPersistence * conversationPersistence;              //@synthesize conversationPersistence=_conversationPersistence - In the implementation block
@property (nonatomic,retain) EDThreadPersistence * threadPersistence;                            //@synthesize threadPersistence=_threadPersistence - In the implementation block
@property (nonatomic,retain) EDMessageChangeManager * messageChangeManager;                      //@synthesize messageChangeManager=_messageChangeManager - In the implementation block
@property (nonatomic,readonly) NSConditionLock * performQueryOnSerializationQueue;               //@synthesize performQueryOnSerializationQueue=_performQueryOnSerializationQueue - In the implementation block
@property (nonatomic,readonly) NSObject*<OS_dispatch_queue> serializationQueue;                  //@synthesize serializationQueue=_serializationQueue - In the implementation block
@property (nonatomic,readonly) NSObject*<OS_dispatch_queue> contentProtectionQueue;              //@synthesize contentProtectionQueue=_contentProtectionQueue - In the implementation block
@property (nonatomic,readonly) EDMailboxPersistence * mailboxPersistence;                        //@synthesize mailboxPersistence=_mailboxPersistence - In the implementation block
@property (nonatomic,readonly) id<EMUserProfileProvider> userProfileProvider;                    //@synthesize userProfileProvider=_userProfileProvider - In the implementation block
@property (nonatomic,readonly) EDVIPManager * vipManager;                                        //@synthesize vipManager=_vipManager - In the implementation block
@property (nonatomic,readonly) id<EDRemoteSearchProvider> remoteSearchProvider;                  //@synthesize remoteSearchProvider=_remoteSearchProvider - In the implementation block
@property (nonatomic,readonly) EDFetchController * fetchController;                              //@synthesize fetchController=_fetchController - In the implementation block
@property (nonatomic,readonly) id<EDResumable> observerResumer;                                  //@synthesize observerResumer=_observerResumer - In the implementation block
@property (nonatomic,readonly) id<EFScheduler> updateThrottlerResetScheduler;                    //@synthesize updateThrottlerResetScheduler=_updateThrottlerResetScheduler - In the implementation block
@property (assign,nonatomic,__weak) id updateThrottlerResetBlock;                                //@synthesize updateThrottlerResetBlock=_updateThrottlerResetBlock - In the implementation block
@property (nonatomic,copy,readonly) NSSet * test_activeQueryCancelationTokens; 
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
+(id)log;
+(id)signpostLog;
-(void)dealloc;
-(unsigned long long)signpostID;
-(NSObject*<OS_dispatch_queue>)serializationQueue;
-(void)contentProtectionStateChanged:(int)arg1 previousState:(int)arg2 ;
-(void)accountBecameActive:(id)arg1 ;
-(void)accountBecameInactive:(id)arg1 ;
-(EDPersistenceHookRegistry *)hookRegistry;
-(void)setHookRegistry:(EDPersistenceHookRegistry *)arg1 ;
-(EDMessagePersistence *)messagePersistence;
-(EDMailboxPersistence *)mailboxPersistence;
-(void)test_tearDown;
-(EDConversationPersistence *)conversationPersistence;
-(EDThreadPersistence *)threadPersistence;
-(EDMessageChangeManager *)messageChangeManager;
-(id<EDRemoteSearchProvider>)remoteSearchProvider;
-(id<EMUserProfileProvider>)userProfileProvider;
-(EDVIPManager *)vipManager;
-(id)initWithMessagePersistence:(id)arg1 conversationPersistence:(id)arg2 threadPersistence:(id)arg3 messageChangeManager:(id)arg4 hookRegistry:(id)arg5 mailboxPersistence:(id)arg6 remoteSearchProvider:(id)arg7 userProfileProvider:(id)arg8 vipManager:(id)arg9 fetchController:(id)arg10 observerResumer:(id)arg11 ;
-(NSObject*<OS_dispatch_queue>)contentProtectionQueue;
-(void)setMessagePersistence:(EDMessagePersistence *)arg1 ;
-(void)setCachedMetadataJSON:(id)arg1 forKey:(id)arg2 messageID:(id)arg3 ;
-(void)cancelAllHandlers;
-(NSMutableDictionary *)queryHandlers;
-(void)_resetUpdateThrottlersWithLogMessage:(id)arg1 ;
-(NSConditionLock *)performQueryOnSerializationQueue;
-(void)_performQuery:(id)arg1 withObserver:(id)arg2 observationIdentifier:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(id<EDResumable>)observerResumer;
-(NSMutableDictionary *)threadQueryHandlers;
-(void)_triggerMigrationWithThreadScopesMatcher:(/*^block*/id)arg1 ;
-(void)_triggerMigrationForThreadScopes:(id)arg1 ;
-(id)_partitionObjectIDs:(id)arg1 ;
-(void)_enumerateThreadsByThreadObjectIDsByScope:(id)arg1 usingBlock:(/*^block*/id)arg2 ;
-(void)_performMessageFlagChangeAllAction:(id)arg1 ;
-(id)_performMessageFlagChangeAction:(id)arg1 returnUndoAction:(char)arg2 ;
-(void)_performMessageTransferAllAction:(id)arg1 ;
-(void)_performMessageTransferAllActionToSpecialMailbox:(id)arg1 ;
-(id)_performMessageTransferAction:(id)arg1 returnUndoAction:(char)arg2 ;
-(id)_performMessageTransferActionToSpecialMailbox:(id)arg1 returnUndoAction:(char)arg2 ;
-(void)_performMessageDeleteAction:(id)arg1 ;
-(void)_performMessageDeleteAllAction:(id)arg1 ;
-(void)_performMessageConversationFlagChangeAction:(id)arg1 ;
-(id)_performUndoAction:(id)arg1 ;
-(id)_persistedMessagesForMessageChangeAction:(id)arg1 ;
-(id)_changeFlagsForPersistedMessages:(id)arg1 flagChange:(id)arg2 returnUndoAction:(char)arg3 ;
-(id)_undoActionsForMovedMessages:(id)arg1 ;
-(id)_persistedMessagesForObjectIDs:(id)arg1 ;
-(id)_persistedObjectIDsForObjectIDs:(id)arg1 ;
-(id)mailboxPredictionController;
-(id)updateThrottlerResetBlock;
-(void)setUpdateThrottlerResetBlock:(id)arg1 ;
-(id<EFScheduler>)updateThrottlerResetScheduler;
-(void)threadQueryHandlerStateDidChange:(id)arg1 ;
-(void)performQuery:(id)arg1 limit:(long long)arg2 completionHandler:(/*^block*/id)arg3 ;
-(void)performCountQuery:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)performQuery:(id)arg1 withObserver:(id)arg2 observationIdentifier:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)startCountingQuery:(id)arg1 includingServerCountsForMailboxScope:(id)arg2 withObserver:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)messageListItemsForObjectIDs:(id)arg1 requestID:(unsigned long long)arg2 observationIdentifier:(id)arg3 loadSummaryForAdditionalObjectIDs:(id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)performMessageChangeAction:(id)arg1 requestID:(unsigned long long)arg2 returnUndoAction:(char)arg3 completionHandler:(/*^block*/id)arg4 ;
-(id)requestRepresentationForMessageWithID:(id)arg1 requestID:(unsigned long long)arg2 options:(id)arg3 delegate:(id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)resetPrecomputedThreadScopesForMailboxScope:(id)arg1 ;
-(void)getCachedMetadataJSONForKey:(id)arg1 messageID:(id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(void)predictMailboxForMovingMessages:(id)arg1 withObserver:(id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(void)loadOlderMessagesForMailboxes:(id)arg1 ;
-(void)messageObjectIDForURL:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)messageObjectIDsForSearchableItemIdentifiers:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(id)messageReconciliationQueries;
-(id)threadReconciliationQueries;
-(NSSet *)test_activeQueryCancelationTokens;
-(void)setQueryHandlers:(NSMutableDictionary *)arg1 ;
-(void)setThreadQueryHandlers:(NSMutableDictionary *)arg1 ;
-(NSMutableSet *)handlerTokens;
-(void)setHandlerTokens:(NSMutableSet *)arg1 ;
-(void)setThreadPersistence:(EDThreadPersistence *)arg1 ;
-(void)setMessageChangeManager:(EDMessageChangeManager *)arg1 ;
-(EDFetchController *)fetchController;
@end

