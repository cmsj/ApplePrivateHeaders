/*
* This header is generated by classdump-dyld 1.0
* on Wednesday, April 28, 2021 at 2:52:07 PM British Summer Time
* Operating System: Version 11.3 (Build 20E232)
* Image Source: /System/Library/PrivateFrameworks/Safari.framework/Versions/A/Safari
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <Safari/Safari-Structs.h>
#import <libobjc.A.dylib/BookmarkGroupDelegate.h>
#import <libobjc.A.dylib/FileChangeObserverClient.h>
#import <libobjc.A.dylib/FileLockerClient.h>
#import <libobjc.A.dylib/FileLockerLogDelegate.h>
#import <libobjc.A.dylib/BookmarksUndoControllerDataStore.h>
#import <libobjc.A.dylib/Command1Through9Receiver.h>

@class NSMutableDictionary, SpotlightBookmarksWriter, WBSSiteMetadataManager, NSMutableArray, NSTimer, FileChangeObserver, NSURL, NSString, WebBookmarkGroup, WebBookmarkList, CloudBookmarksMigrationCoordinationConsul, WebBookmark;

@interface BookmarksController : NSObject <BookmarkGroupDelegate, FileChangeObserverClient, FileLockerClient, FileLockerLogDelegate, BookmarksUndoControllerDataStore, Command1Through9Receiver> {

	char _loaded;
	NSMutableDictionary* _proxiesByIdentifier;
	SpotlightBookmarksWriter* _spotlightBookmarksWriter;
	WBSSiteMetadataManager* _cachedSiteMetadataManager;
	/*^block*/id _siteMetadataManagerProvider;
	unsigned long long _bookmarksFileSize;
	double _bookmarksFileTime;
	unsigned long long _bookmarksGeneration;
	unique_ptr<Safari::FileLocker, std::__1::default_delete<Safari::FileLocker>>* _fileLocker;
	char _waitingForLock;
	NSMutableArray* _completionHandlersPendingLockAcquisition;
	unsigned long long _numberOfPendingSaveRequests;
	long long _pendingSavePriority;
	NSTimer* _pendingSaveTimer;
	double _pendingSaveTimerInterval;
	FileChangeObserver* _fileChangeObserver;
	char _userIsOffline;
	NSMutableArray* _bookmarksThatRequestedMetadataFetchWhileOffline;
	NSURL* _builtInBookmarksURL;
	NSMutableArray* _migratedNonSafariBookmarkFiles;
	NSString* _bookmarksFileLockPath;
	char _isReadOnly;
	char _shouldResetCloudKitMigrationStateOnNextLoad;
	char _didFillWithBuiltInBookmarks;
	char _reloadingBookmarks;
	char _savePending;
	WebBookmarkGroup* _allBookmarks;
	WebBookmarkList* _bookmarksBarCollection;
	WebBookmarkList* _bookmarksMenuCollection;
	NSString* _bookmarksFilePath;
	CloudBookmarksMigrationCoordinationConsul* _bookmarksMigrationCoordinationConsul;
	NSURL* _migratedBookmarksFolder;
	SHA256Hash _builtInBookmarksStateHash;

}

@property (assign,nonatomic) SHA256Hash builtInBookmarksStateHash;                                                            //@synthesize builtInBookmarksStateHash=_builtInBookmarksStateHash - In the implementation block
@property (assign,nonatomic) char didFillWithBuiltInBookmarks;                                                                //@synthesize didFillWithBuiltInBookmarks=_didFillWithBuiltInBookmarks - In the implementation block
@property (assign,getter=isReloadingBookmarks,nonatomic) char reloadingBookmarks;                                             //@synthesize reloadingBookmarks=_reloadingBookmarks - In the implementation block
@property (assign,getter=isSavePending,nonatomic) char savePending;                                                           //@synthesize savePending=_savePending - In the implementation block
@property (nonatomic,retain) NSURL * migratedBookmarksFolder;                                                                 //@synthesize migratedBookmarksFolder=_migratedBookmarksFolder - In the implementation block
@property (assign,nonatomic) char isReadOnly;                                                                                 //@synthesize isReadOnly=_isReadOnly - In the implementation block
@property (nonatomic,readonly) WebBookmarkGroup * allBookmarks;                                                               //@synthesize allBookmarks=_allBookmarks - In the implementation block
@property (nonatomic,readonly) WebBookmarkList * topBookmarkIfLoaded; 
@property (nonatomic,readonly) WebBookmark * historyCollection; 
@property (nonatomic,retain,readonly) WebBookmarkList * bookmarksBarCollection;                                               //@synthesize bookmarksBarCollection=_bookmarksBarCollection - In the implementation block
@property (nonatomic,retain,readonly) WebBookmarkList * bookmarksMenuCollection;                                              //@synthesize bookmarksMenuCollection=_bookmarksMenuCollection - In the implementation block
@property (nonatomic,copy,readonly) NSString * bookmarksFilePath;                                                             //@synthesize bookmarksFilePath=_bookmarksFilePath - In the implementation block
@property (nonatomic,copy,readonly) NSString * bookmarksFileLockPath;                                                         //@synthesize bookmarksFileLockPath=_bookmarksFileLockPath - In the implementation block
@property (nonatomic,readonly) CloudBookmarksMigrationCoordinationConsul * bookmarksMigrationCoordinationConsul;              //@synthesize bookmarksMigrationCoordinationConsul=_bookmarksMigrationCoordinationConsul - In the implementation block
@property (assign,nonatomic) char shouldResetCloudKitMigrationStateOnNextLoad;                                                //@synthesize shouldResetCloudKitMigrationStateOnNextLoad=_shouldResetCloudKitMigrationStateOnNextLoad - In the implementation block
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
+(id)sharedController;
+(id)defaultBookmarksFileURL;
+(id)fileLockURLForBookmarkFileURL:(id)arg1 ;
+(void)requestSyncClientTriggerSyncForBookmarkGroup:(id)arg1 ;
+(id)bookmarkSourceForProxyIdentifier:(id)arg1 ;
+(id)_defaultMigratedBookmarksFolderURL;
+(void)_syncAgentDidDetectBug:(id)arg1 ;
+(void)_syncAgentDidDetectHierarchyIssue:(id)arg1 ;
+(id)_sharedControllerWithInstance:(id*)arg1 spotlightCacheController:(id)arg2 ;
+(id)_builtInBookmarksLocaleKey;
+(void)tellUserThatSyncWon;
+(void)_tellUserThatExternalChangePreemptedLocalChange;
+(void)requestSyncClientTriggerSyncForBookmarkGroup:(id)arg1 skipRequestIfNoChanges:(char)arg2 ;
+(void)_requestSyncClientTriggerSyncForBookmarkGroup:(id)arg1 skipRequestIfNoChanges:(char)arg2 ;
+(id)bookmarkTitleForProxyIdentifier:(id)arg1 ;
+(id)existingSharedController;
-(void)dealloc;
-(char)isReadOnly;
-(void)setIsReadOnly:(char)arg1 ;
-(WebBookmarkGroup *)allBookmarks;
-(WebBookmarkList *)topBookmarkIfLoaded;
-(WebBookmarkList *)bookmarksBarCollection;
-(WebBookmarkList *)bookmarksMenuCollection;
-(void)fetchMetadataForBookmark:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(char)reloadBookmarksFromFileIfChanged;
-(void)exportBookmarks;
-(void)savePendingChangesSynchronously;
-(void)setShouldResetCloudKitMigrationStateOnNextLoad:(char)arg1 ;
-(void)fileLocker:(const FileLocker*)arg1 logPrivacyPreservingString:(const char*)arg2 ofType:(unsigned char)arg3 ;
-(id)_initWithBookmarksFilePath:(id)arg1 builtInBookmarksURL:(id)arg2 migratedBookmarksFolder:(id)arg3 spotlightCacheController:(id)arg4 siteMetadataManagerProvider:(/*^block*/id)arg5 ;
-(void)resetWithBookmarksFilePath:(id)arg1 ;
-(void)_updateDisplayedTitlesForBuiltInBookmarks:(id)arg1 ;
-(void)_invalidatePendingSaveTimer;
-(void)_savePendingChangesWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)_pendingSaveTimerFired:(id)arg1 ;
-(void)_enqueueSaveCompletionHandler:(/*^block*/id)arg1 ;
-(char)_reloadBookmarksCheckingIfFileChanged:(char)arg1 ;
-(char)isReloadingBookmarks;
-(void)setReloadingBookmarks:(char)arg1 ;
-(char)_bookmarksFileHasChanged;
-(void)_rememberBookmarksFileInfo;
-(id)_bookmarkSourceWithPossibleTitles:(id)arg1 displayTitle:(id)arg2 bookmarkIndex:(unsigned long long*)arg3 isFirstTitle:(char*)arg4 ;
-(void)__savePendingChangesSoonWithPriority:(long long)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)_flushPendingSaveCompletionHandlersWithSuccess:(char)arg1 ;
-(void)_resetPendingSavePriority;
-(char)didFillWithBuiltInBookmarks;
-(SHA256Hash)builtInBookmarksStateHash;
-(char)isSavePending;
-(void)setSavePending:(char)arg1 ;
-(void)_unlockFileLockerWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)setDidFillWithBuiltInBookmarks:(char)arg1 ;
-(void)_schedulePendingSaveTimerWithPriority:(long long)arg1 previousTimerInterval:(double)arg2 ;
-(char)_shouldTellUserAboutBookmarkSaveProblems;
-(void)_lockFileLockerWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)_deleteMigratedNonSafariBookmarkFiles;
-(id)bookmarkForPersistentIdentifier:(id)arg1 ;
-(char)_favoritesContainsBookmark:(id)arg1 ;
-(void)_sendFavoritesChangedNotification;
-(void)_savePendingChangesSoonWithPriority:(long long)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)_updateSandboxExtensionFromStoreIfNeeded:(id)arg1 ;
-(void)_removeSandboxExtensionFromStoreIfNeeded:(id)arg1 ;
-(void)_updateBookmarkSourcesSkippingSave:(char)arg1 ;
-(void)_postBookmarksWereReloadedNotification;
-(void)_savePendingChangesSoonForPossiblyInteractiveBookmarkChange:(char)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)_postFavoritesChangedNotificationsIfNecessaryForChangeToBookmark:(id)arg1 parent:(id)arg2 ;
-(void)_postDidAddNotificationForBookmark:(id)arg1 parent:(id)arg2 ;
-(void)_postDidRemoveNotificationForBookmark:(id)arg1 parent:(id)arg2 ;
-(void)_postDidChangeNotificationForBookmark:(id)arg1 ;
-(void)exportBookmarksToPath:(id)arg1 shouldHideExtension:(char)arg2 ;
-(void)_deleteMigratedBookmarksDirectoryIfContainsNoMigratableFiles;
-(int)_importMigratedSafariBookmarks;
-(void)_fillWithBuiltInBookmarks;
-(void)_importMigratedNonSafariBookmarks;
-(void)_fillBookmarksBarWithBuiltInBookmarksIfNecessary;
-(id)builtInBookmarks;
-(void)_copyChildBookmarksFromBookmark:(id)arg1 toBookmark:(id)arg2 ;
-(void)setBuiltInBookmarksStateHash:(SHA256Hash)arg1 ;
-(id)_builtInBookmarksBarBookmark;
-(void)clearProxiesByIdentifier;
-(void)insertProxyBookmarkWithIdentifier:(id)arg1 atIndex:(unsigned long long)arg2 ;
-(id)_bookmarkSourceCreateIfNeededWithPossibleTitles:(id)arg1 displayTitle:(id)arg2 indexInTopBookmark:(unsigned long long)arg3 fileNeedsUpdate:(char*)arg4 ;
-(void)addTopLevelBookmark:(id)arg1 ;
-(void)_addBookmarkToTopSites:(id)arg1 customizedTitle:(id)arg2 ;
-(void)_addBookmark:(id)arg1 parent:(id)arg2 ;
-(id)_findNthFavoriteLeaf:(unsigned long long)arg1 ;
-(char)_shouldTryToFetchMetadataForBookmarkLeaf:(id)arg1 ;
-(void)_handleBookmarkSummaryResponse:(id)arg1 forBookmark:(id)arg2 ;
-(void)_beginObservingNetworkChangeNotifications;
-(void)_didReceiveNetworkChangeNotification:(id)arg1 ;
-(void)_stopObservingNetworkChangeNotifications;
-(void)bookmarksWereReloadedInGroup:(id)arg1 ;
-(void)bookmarkGroup:(id)arg1 bookmarkWasAdded:(id)arg2 toParent:(id)arg3 ;
-(void)bookmarkGroup:(id)arg1 bookmarkWasRemoved:(id)arg2 fromParent:(id)arg3 ;
-(void)bookmarkGroup:(id)arg1 bookmarkDidChange:(id)arg2 changeWasInteractive:(char)arg3 ;
-(void)bookmarkGroup:(id)arg1 bookmarksWereCleanedUpInList:(id)arg2 ;
-(void)fileChangeObserverFileDidChange:(id)arg1 ;
-(int)fileLocker:(const FileLocker*)arg1 actionForApparentlyAbandonedLock:(id)arg2 ;
-(void)fileLocker:(const FileLocker*)arg1 lockWasStolen:(id)arg2 ;
-(id)bookmarkGroupForUndoController:(id)arg1 ;
-(char)canHandleCommand1Through9ActionForIndex:(unsigned long long)arg1 ;
-(void)handleCommand1Through9ActionForIndex:(unsigned long long)arg1 ;
-(char)clearLocalDataForAutomatedTestingPurposes;
-(void)performUpdatesAtomically:(/*^block*/id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)fetchBookmarkSourceWithStoredTitle:(id)arg1 displayedTitle:(id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(id)persistentIdentifierForBookmark:(id)arg1 ;
-(id)bookmarkForNewWindowTabsPreference;
-(WebBookmark *)historyCollection;
-(void)fetchBookmarksBarCollectionWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)fetchBookmarksMenuCollectionWithCompletionHandler:(/*^block*/id)arg1 ;
-(char)_menuContainsBookmark:(id)arg1 ;
-(void)addTopLevelBookmark:(id)arg1 title:(id)arg2 ;
-(void)displayNewBookmarksSheetForBookmark:(id)arg1 inWindow:(id)arg2 ;
-(NSString *)bookmarksFilePath;
-(NSString *)bookmarksFileLockPath;
-(CloudBookmarksMigrationCoordinationConsul *)bookmarksMigrationCoordinationConsul;
-(char)shouldResetCloudKitMigrationStateOnNextLoad;
-(NSURL *)migratedBookmarksFolder;
-(void)setMigratedBookmarksFolder:(NSURL *)arg1 ;
@end

